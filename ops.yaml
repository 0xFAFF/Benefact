name: frontend
vars:
  default:
    name: benefact_frontend
    commit: develop
cmds:
  checkout:
    - cmd: git checkout {commit}
    - cmd: git pull
  build:
    - cmd: docker build -t {name} .
  clean:
    - steps: [stop]
    - cmd: docker image rm {name}
  run:
    - cmd: docker run -itd -p {port}:80 --name {name} {name}
    - cmd: docker network connect --ip {ip} {network} {name}
  stop:
    - cmd: docker stop {name}
    - cmd: docker container rm {name}